#!/bin/sh
# Exit on any error
set -e

echo "ðŸ” Running pre-push checks..."

# 1. Format check (fast)
echo "  â†’ Checking code formatting..."
bun run format:check

# 2. Type check (medium speed)
echo "  â†’ Type checking TypeScript..."
cd apps/chrome-extension && bunx tsc --noEmit
cd ../..

# 3. Build check (ensures no build-time errors)
echo "  â†’ Building Chrome extension..."
cd apps/chrome-extension && bun run build > /dev/null 2>&1
cd ../..

echo "âœ… All pre-push checks passed!"
